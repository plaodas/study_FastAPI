# Example env file for backend (do NOT commit secrets to git)

# Core
DATABASE_URL=postgresql://user:pass@db:5432/appdb
PROJECT_NAME=study_FastAPI
DEBUG=0
ENV_FILE=.env

# Testing
# Set INTEGRATION_TEST=1 when running integration tests in CI/Compose
INTEGRATION_TEST=0
TEST_DATABASE_URL=postgresql://test:pass@db:5432/appdb_test

# Security
SECRET_KEY=replace-with-strong-secret
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# CORS / Frontend
ALLOWED_ORIGINS=http://localhost:3000
BACKEND_BASE_URL=http://127.0.0.1:8000

# DB tuning
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=0

# Logging / Telemetry
LOG_LEVEL=INFO
SENTRY_DSN=

# Rate limiting / Cache
RATE_LIMIT_ENABLED=0
RATE_LIMIT_DEFAULT=100/minute
REDIS_URL=

# Audit / validation
# FORBIDDEN_WORDS may be provided as a JSON list (recommended for pydantic-settings),
# or as a comma-separated string. Examples:
#   FORBIDDEN_WORDS=["spam","badword"]
#   FORBIDDEN_WORDS=spam,badword
FORBIDDEN_WORDS=["spam","badword"]
VALIDATION_RULES=/items:POST
AUDIT_ENABLED=1
AUDIT_TABLE=item_audit

# External broker
BROKER_URL=

# Entrypoint
PYTHONPATH=/app
PORT=8000

# Log rotation settings used by entrypoint
STARTUP_ROTATE_MAX_BYTES=5242880
STARTUP_ROTATE_KEEP=7
STARTUP_ROTATE_INTERVAL=300
